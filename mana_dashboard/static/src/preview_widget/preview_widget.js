/** @odoo-module alias=mana_dashboard.preview_widget **/
const a0_0x2fda6a=a0_0x5556;(function(_0xc8fae2,_0x4ee54c){const _0x454570=a0_0x5556,_0x30748d=_0xc8fae2();while(!![]){try{const _0x3472e7=-parseInt(_0x454570(0xf9))/0x1+-parseInt(_0x454570(0xfb))/0x2+-parseInt(_0x454570(0x105))/0x3*(parseInt(_0x454570(0x10b))/0x4)+-parseInt(_0x454570(0xe6))/0x5*(parseInt(_0x454570(0xfc))/0x6)+-parseInt(_0x454570(0xee))/0x7*(-parseInt(_0x454570(0xe9))/0x8)+-parseInt(_0x454570(0xf8))/0x9*(-parseInt(_0x454570(0x109))/0xa)+parseInt(_0x454570(0xe7))/0xb*(parseInt(_0x454570(0xf1))/0xc);if(_0x3472e7===_0x4ee54c)break;else _0x30748d['push'](_0x30748d['shift']());}catch(_0x6a5607){_0x30748d['push'](_0x30748d['shift']());}}}(a0_0xffb8,0xdec90));
 import {Component,useRef,onMounted,onWillDestroy,onWillUpdateProps,useEffect}  from '@odoo/owl';
 import {_t}  from '@web/core/l10n/translation';
 import {BlockRegistry}  from '@mana_dashboard_base/mana_block_registry';
 import {useService}  from '@web/core/utils/hooks';
 function a0_0xffb8(){const _0x11d44c=['runCommand','content','onMounted','79041nBqaYd','props','orm','rootRef','20jKAxRB','record','24kHhUlH','data','getSession','category','domain','get_mode','destroy','style','add','get_editor_mode','args','model','is_prevew_widget','context','70PTCdIi','1804LbqHMH','template','48kHFARe','action','theme_name','components','kwargs','806540pbiZVk','bus','push','133236Mywfen','select','onWillDestroy','setup','editor','env','get_theme_name','3104307BvRpOX','613269fXPkCo','backgroundColor','2199242xbZXYF','179382rTlRBn','trigger','_rpc','method','length','preview_background_color'];a0_0xffb8=function(){return _0x11d44c;};return a0_0xffb8();}
 import {useBus}  from '@web/core/utils/hooks';
 function a0_0x5556(_0x36d06e,_0x372662){const _0xffb8d1=a0_0xffb8();return a0_0x5556=function(_0x555650,_0x181bd2){_0x555650=_0x555650-0xdd;let _0x4251ea=_0xffb8d1[_0x555650];return _0x4251ea;},a0_0x5556(_0x36d06e,_0x372662);}
 import {useRecordObserver}  from '@web/model/relational_model/utils';
 import {session}  from '@web/session';
 import {registry}  from '@web/core/registry';const WidgetRegistry=registry[a0_0x2fda6a(0x10e)]('view_widgets');
export  class PreViewWidget extends Component{[a0_0x2fda6a(0xf4)](){const _0x82e713=a0_0x2fda6a;super[_0x82e713(0xf4)](),this[_0x82e713(0x103)]=this[_0x82e713(0x106)][_0x82e713(0x10a)][_0x82e713(0xe5)]['content']||'',this[_0x82e713(0x10a)]=this[_0x82e713(0x106)][_0x82e713(0x10a)],this['rootRef']=useRef('root'),this['orm']=useService('orm'),this[_0x82e713(0xea)]=useService('action'),this[_0x82e713(0x101)]=this[_0x82e713(0x10a)]['data'][_0x82e713(0x101)],useBus(this['env'][_0x82e713(0xef)],'mana_dashboard.update_preview',()=>{const _0x3a91a5=_0x82e713;this[_0x3a91a5(0xf6)][_0x3a91a5(0xef)][_0x3a91a5(0xfd)]('mana_dashboard.force_reload_config',this[_0x3a91a5(0xf5)]);}),onMounted(this[_0x82e713(0x104)]),onWillDestroy(this[_0x82e713(0xf3)]),useEffect(()=>{const _0x54dfd1=_0x82e713;this['rootRef']['el']&&(this[_0x54dfd1(0x108)]['el'][_0x54dfd1(0xdf)]['backgroundColor']=this[_0x54dfd1(0x101)]);},()=>[this[_0x82e713(0x101)]]),useRecordObserver(_0x1766d7=>{const _0x2a8a36=_0x82e713;let _0x41c231=_0x1766d7[_0x2a8a36(0x10c)][_0x2a8a36(0x101)];this[_0x2a8a36(0x108)]['el']&&(this[_0x2a8a36(0x108)]['el'][_0x2a8a36(0xdf)][_0x2a8a36(0xfa)]=_0x41c231,this[_0x2a8a36(0x101)]=_0x41c231);});}[a0_0x2fda6a(0x104)](){const _0x212a92=a0_0x2fda6a;let _0x1c093a=['blocks-bootstrap4'],_0x199c2e=BlockRegistry['getAll']();for(let _0x526a89=0x0;_0x526a89<_0x199c2e[_0x212a92(0x100)];_0x526a89++){_0x1c093a[_0x212a92(0xf0)](_0x199c2e[_0x526a89]);}let _0x402463={'showOffsets':0x1,'noticeOnUnload':0x0,'container':this['rootRef']['el'],'height':'100%','fromElement':![],'jsInHtml':![],'cssInHtml':![],'editor_mode':'view','storageManager':{'autoload':0x0,'autosave':0x0},'plugins':_0x1c093a,'allowScripts':0x0,'storageManager':![],'widget':this,'dashboard':this,'preview':!![],'panels':{'defaults':[]}};_0x402463[_0x212a92(0xec)]=this[_0x212a92(0x103)]||'<div class="container"><div class="row"><div class="col">Some thing is error!</div></div></div>',this[_0x212a92(0xf5)]=grapesjs['init'](_0x402463),setTimeout(()=>{const _0x3aab41=_0x212a92;this['editor'][_0x3aab41(0x102)]('preview');},0x0);}[a0_0x2fda6a(0xf3)](){const _0xf2dd09=a0_0x2fda6a;this[_0xf2dd09(0xf5)]&&(this[_0xf2dd09(0xf5)][_0xf2dd09(0xf2)](),setTimeout(()=>{const _0x138f0e=_0xf2dd09;this[_0x138f0e(0xf5)][_0x138f0e(0xde)](),this[_0x138f0e(0xf5)]=null;},0x0));}[a0_0x2fda6a(0xe4)](){return!![];}[a0_0x2fda6a(0xdd)](){return'edit';}[a0_0x2fda6a(0xe1)](){return'edit';}['get_env'](){return this['env'];}[a0_0x2fda6a(0x10d)](){return session;}[a0_0x2fda6a(0xfe)](_0x1e7072){const _0x485cd5=a0_0x2fda6a;let _0x37252e=_0x1e7072[_0x485cd5(0xe3)],_0x2ddc5a=_0x1e7072[_0x485cd5(0xff)],_0x331c2b=_0x1e7072[_0x485cd5(0xe2)]||[],_0x1e2c69=_0x1e7072[_0x485cd5(0xed)]||{},_0xec6010=_0x1e7072[_0x485cd5(0x10f)]||[];_0x1e7072[_0x485cd5(0x10f)]&&(_0x1e2c69['domain']=_0xec6010,delete _0x1e7072[_0x485cd5(0x10f)]);let _0x592481=_0x1e7072[_0x485cd5(0xe5)]||{};return _0x1e7072[_0x485cd5(0xe5)]&&(_0x1e2c69['context']=_0x592481,delete _0x1e7072['context']),(!_0x37252e||!_0x2ddc5a)&&raise('model and method is required'),this[_0x485cd5(0x107)]['call'](_0x37252e,_0x2ddc5a,_0x331c2b,_0x1e2c69);}[a0_0x2fda6a(0xf7)](){const _0x2f5638=a0_0x2fda6a;let _0x1b8f5d=this['record'][_0x2f5638(0xe5)][_0x2f5638(0xeb)]||'default';return _0x1b8f5d;}};PreViewWidget[a0_0x2fda6a(0xe8)]='mana_dashboard.preview_widget';
export  const preViewWidget={'component':PreViewWidget};WidgetRegistry[a0_0x2fda6a(0xe0)]('preview_widget',preViewWidget);